[**Documentation**](../../../README.md)

***

[Documentation](../../../README.md) / [utils/redux-state-monitor](../README.md) / REDUX\_STATE\_MONITOR\_SCRIPT

# Variable: REDUX\_STATE\_MONITOR\_SCRIPT

> `const` **REDUX\_STATE\_MONITOR\_SCRIPT**: "\n(function() \{\n  const findReduxStore = () =\> \{\n    // Attempt to find Redux store if it's exposed globally (e.g., for debugging or by a specific setup)\n    // This is a common pattern for applications exposing the store for testing/debugging.\n    if (window.store && typeof window.store.getState === 'function' && typeof window.store.dispatch === 'function') \{\n      return window.store;\n    \}\n\n    return null;\n  \};\n\n  const store = findReduxStore();\n  const devToolsExtension = window.\_\_REDUX\_DEVTOOLS\_EXTENSION\_\_;\n\n  if (store) \{\n    console.log('\[CLiTS-Redux-Monitor\] Redux store found.');\n\n    if (devToolsExtension) \{\n      console.log('\[CLiTS-Redux-Monitor\] Redux DevTools Extension found. Connecting...');\n      const devTools = devToolsExtension.connect();\n\n      // Subscribe to state changes and actions via DevTools extension\n      devTools.subscribe(message =\> \{\n        if (message.type === 'DISPATCH' && message.payload) \{\n          console.log('\[CLiTS-Redux-Monitor\] DevTools: Action dispatched:', \{\n            action: JSON.parse(message.payload),\n            state: JSON.parse(message.state)\n          \});\n        \} else if (message.type === 'ACTION' && message.payload) \{\n          console.log('\[CLiTS-Redux-Monitor\] DevTools: State change (from action):', \{\n            action: JSON.parse(message.payload),\n            state: JSON.parse(message.state)\n          \});\n        \} else \{\n          console.log('\[CLiTS-Redux-Monitor\] DevTools: Message received:', message);\n        \}\n      \});\n\n      // Dispatch initial state to DevTools if needed\n      // devTools.init(store.getState());\n\n      console.log('\[CLiTS-Redux-Monitor\] Redux state monitoring via DevTools extension injected.');\n    \} else \{\n      console.warn('\[CLiTS-Redux-Monitor\] Redux DevTools Extension not found. Falling back to patching dispatch.');\n      \n      // Patch dispatch to log actions and new state\n      const originalDispatch = store.dispatch;\n      store.dispatch = function(action) \{\n        const prevState = store.getState();\n        const result = originalDispatch.apply(this, arguments);\n        const newState = store.getState();\n        console.log('\[CLiTS-Redux-Monitor\] Redux action dispatched (patched):', \{ action, prevState, newState \});\n        return result;\n      \};\n\n      // Subscribe to state changes (alternative/complementary to patching dispatch)\n      store.subscribe(() =\> \{\n        console.log('\[CLiTS-Redux-Monitor\] Redux state changed (subscribed):', store.getState());\n      \});\n\n      console.log('\[CLiTS-Redux-Monitor\] Redux state monitoring via dispatch patch injected.');\n    \}\n  \} else \{\n    console.warn('\[CLiTS-Redux-Monitor\] Redux store not found. Skipping Redux state monitoring.');\n  \}\n\})();\n"

Defined in: utils/redux-state-monitor.ts:3
